<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="canonical" href="https://n00b-5634.github.io/OpenIndiana-SiteReimagined/handbook/community/squeak/">
        <link rel="shortcut icon" href="../../../img/favicon.ico">
        <title>Squeak - OpenIndiana Reimagined</title>
        <link href="../../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css">
        <link href="../../../css/style.css" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script>
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<script src="../../../search/main.js" defer></script>

    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../../..">OpenIndiana Reimagined</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../../.." class="nav-link">Home</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Books <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../books/about/" class="dropdown-item">About</a>
</li>
                                    
<li>
    <a href="../../../books/advanced/" class="dropdown-item">Advanced</a>
</li>
                                    
<li>
    <a href="../../../books/basic/" class="dropdown-item">Basic</a>
</li>
                                    
<li>
    <a href="../../../books/develop/" class="dropdown-item">Develop</a>
</li>
                                    
<li>
    <a href="../../../books/express/" class="dropdown-item">Express</a>
</li>
                                    
<li>
    <a href="../../../books/trusted/" class="dropdown-item">Trusted</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Community hcl <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../community-hcl/" class="dropdown-item">Index</a>
</li>
                                    
<li>
    <a href="../../../community-hcl/components/" class="dropdown-item">Components</a>
</li>
                                    
<li>
    <a href="../../../community-hcl/getting-hardware-info/" class="dropdown-item">Getting hardware info</a>
</li>
                                    
<li>
    <a href="../../../community-hcl/systems/" class="dropdown-item">Systems</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Contrib <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../contrib/content/" class="dropdown-item">Content</a>
</li>
                                    
<li>
    <a href="../../../contrib/getting-started/" class="dropdown-item">Getting started</a>
</li>
                                    
<li>
    <a href="../../../contrib/git/" class="dropdown-item">Git</a>
</li>
                                    
<li>
    <a href="../../../contrib/markdown/" class="dropdown-item">Markdown</a>
</li>
                                    
<li>
    <a href="../../../contrib/roles/" class="dropdown-item">Roles</a>
</li>
                                    
<li>
    <a href="../../../contrib/style/" class="dropdown-item">Style</a>
</li>
                                    
<li>
    <a href="../../../contrib/tools/" class="dropdown-item">Tools</a>
</li>
                                    
<li>
    <a href="../../../contrib/topics/" class="dropdown-item">Topics</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Dev <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../dev/" class="dropdown-item">Developer</a>
</li>
                                    
<li>
    <a href="../../../dev/building-openindiana/" class="dropdown-item">Building openindiana</a>
</li>
                                    
<li>
    <a href="../../../dev/distribution-constructor/" class="dropdown-item">Distribution constructor</a>
</li>
                                    
<li>
    <a href="../../../dev/existing-tasks/" class="dropdown-item">Existing tasks</a>
</li>
                                    
<li>
    <a href="../../../dev/graphics-stack/" class="dropdown-item">Graphics stack</a>
</li>
                                    
<li>
    <a href="../../../dev/repo-cleanup/" class="dropdown-item">Repo cleanup</a>
</li>
                                    
<li>
    <a href="../../../dev/userland/" class="dropdown-item">Userland</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Handbook <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../" class="dropdown-item">OpenIndiana Handbook</a>
</li>
                                    
<li>
    <a href="../../appendix/" class="dropdown-item">Appendix</a>
</li>
                                    
<li>
    <a href="../../common-tasks/" class="dropdown-item">Common tasks</a>
</li>
                                    
<li>
    <a href="../" class="dropdown-item">Community</a>
</li>
                                    
<li>
    <a href="../../getting-started/" class="dropdown-item">Getting started</a>
</li>
                                    
<li>
    <a href="../../legacy-branch/" class="dropdown-item">Legacy branch</a>
</li>
                                    
<li>
    <a href="../../network-communications/" class="dropdown-item">Network communications</a>
</li>
                                    
<li>
    <a href="../../openindiana-download-mirrors/" class="dropdown-item">Openindiana download mirrors</a>
</li>
                                    
<li>
    <a href="../../pdfdocs/" class="dropdown-item">Pdfdocs</a>
</li>
                                    
<li>
    <a href="../../sunray/" class="dropdown-item">Sunray</a>
</li>
                                    
<li>
    <a href="../../systems-administration/" class="dropdown-item">Systems administration</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Community</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../inputmethod/" class="dropdown-item">Inputmethod</a>
</li>
            
<li>
    <a href="../oracledb/" class="dropdown-item">Oracledb</a>
</li>
            
<li>
    <a href="../quikstor/" class="dropdown-item">Quikstor</a>
</li>
            
<li>
    <a href="../samqfs/" class="dropdown-item">Samqfs</a>
</li>
            
<li>
    <a href="./" class="dropdown-item active">Squeak</a>
</li>
            
<li>
    <a href="../texlive/" class="dropdown-item">Texlive</a>
</li>
            
<li>
    <a href="../vagrant/" class="dropdown-item">Vagrant</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Misc <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../misc/conduct/" class="dropdown-item">Conduct</a>
</li>
                                    
<li>
    <a href="../../../misc/oi-docs/" class="dropdown-item">Oi docs</a>
</li>
                                    
<li>
    <a href="../../../misc/openindiana/" class="dropdown-item">Openindiana</a>
</li>
                                    
<li>
    <a href="../../../misc/pdl/" class="dropdown-item">PUBLIC DOCUMENTATION LICENSE</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Release notes <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../release-notes/" class="dropdown-item">OpenIndiana Release Notes</a>
</li>
                                    
<li>
    <a href="../../../release-notes/2015.03-release-notes/" class="dropdown-item">2015.03 release notes</a>
</li>
                                    
<li>
    <a href="../../../release-notes/2015.10-release-notes/" class="dropdown-item">2015.10 release notes</a>
</li>
                                    
<li>
    <a href="../../../release-notes/2016.04-release-notes/" class="dropdown-item">2016.04 release notes</a>
</li>
                                    
<li>
    <a href="../../../release-notes/2016.10-release-notes/" class="dropdown-item">2016.10 release notes</a>
</li>
                                    
<li>
    <a href="../../../release-notes/2017.04-release-notes/" class="dropdown-item">2017.04 release notes</a>
</li>
                                    
<li>
    <a href="../../../release-notes/2017.10-release-notes/" class="dropdown-item">2017.10 release notes</a>
</li>
                                    
<li>
    <a href="../../../release-notes/2018.04-release-notes/" class="dropdown-item">2018.04 release notes</a>
</li>
                                    
<li>
    <a href="../../../release-notes/2018.10-release-notes/" class="dropdown-item">2018.10 release notes</a>
</li>
                                    
<li>
    <a href="../../../release-notes/2019.04-release-notes/" class="dropdown-item">2019.04 release notes</a>
</li>
                                    
<li>
    <a href="../../../release-notes/2019.10-release-notes/" class="dropdown-item">2019.10 release notes</a>
</li>
                                    
<li>
    <a href="../../../release-notes/2020.04-release-notes/" class="dropdown-item">2020.04 release notes</a>
</li>
                                    
<li>
    <a href="../../../release-notes/2020.10-release-notes/" class="dropdown-item">2020.10 release notes</a>
</li>
                                    
<li>
    <a href="../../../release-notes/latest-changes/" class="dropdown-item">Latest changes</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Retired <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../retired/" class="dropdown-item">Index</a>
</li>
                                    
<li>
    <a href="../../../retired/books/" class="dropdown-item">Books</a>
</li>
                                    
<li>
    <a href="../../../retired/bsd/" class="dropdown-item">Bsd</a>
</li>
                                    
<li>
    <a href="../../../retired/old-handbook/" class="dropdown-item">TODO: Booting</a>
</li>
                                    
<li>
    <a href="../../../retired/project/" class="dropdown-item">Project</a>
</li>
                                    
<li>
    <a href="../../../retired/sphinx/" class="dropdown-item">Sphinx</a>
</li>
                                    
<li>
    <a href="../../../retired/toolchain/" class="dropdown-item">Toolchain</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../samqfs/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../texlive/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
<a href="#main-content" class="skip-link">Skip to Content</a>

<nav class="navbar-hardened">
    <a href="../../.." class="font-extrabold text-2xl shrink-0" style="color:var(--text-main)">
        <i class="fas fa-book-open"></i> OI <span style="color:var(--oi-primary)">DOCS</span>
    </a>

    <div class="header-search-wrap">
        <form role="search" onsubmit="return false;">
            <label for="mkdocs-search-query" class="sr-only">Search</label>
            <input type="text" id="mkdocs-search-query" class="header-search-input"
                   placeholder="Search docs..." autocomplete="off">
        </form>
        <div id="mkdocs-search-results" class="search-results"></div>
    </div>

    <div class="flex gap-3 shrink-0">
        <a href="https://n00b-5634.github.io/OpenIndiana-SiteReimagined/"
           class="icon-btn px-4 py-2 border-2 rounded-xl font-bold text-[10px] uppercase flex items-center"
           style="border-color:var(--card-border); color:var(--text-main);">
            <i class="fas fa-home"></i> Go to main page
        </a>
        <button id="a11y-toggle" class="icon-btn px-3 py-1.5 border-2 rounded-lg font-bold text-[9px] uppercase opacity-60 hover:opacity-100" style="border-color:var(--card-border)">
            <i class="fas fa-universal-access"></i> W3C Access
        </button>
        <button id="master-theme-toggle" class="icon-btn px-4 py-2 border-2 rounded-xl font-bold text-[10px] uppercase" style="border-color:var(--card-border)">
            <i class="fas fa-moon"></i> DARK MODE
        </button>
    </div>
</nav>


<div class="documentation-container">
    <aside class="sidebar-nav">
        <p class="nav-section-title">Navigation</p>
        
        <a href="../../.." class="block mb-4 text-sm font-bold no-underline hover:text-[var(--oi-primary)] text-[var(--text-main)]">
            <i class="fas fa-file-alt mr-2"></i> Home
        </a>
        
        <a href="../../.." class="block mb-4 text-sm font-bold no-underline hover:text-[var(--oi-primary)] text-[var(--text-main)]">
            <i class="fas fa-file-alt mr-2"></i> Books
        </a>
        
        <a href="../../.." class="block mb-4 text-sm font-bold no-underline hover:text-[var(--oi-primary)] text-[var(--text-main)]">
            <i class="fas fa-file-alt mr-2"></i> Community hcl
        </a>
        
        <a href="../../.." class="block mb-4 text-sm font-bold no-underline hover:text-[var(--oi-primary)] text-[var(--text-main)]">
            <i class="fas fa-file-alt mr-2"></i> Contrib
        </a>
        
        <a href="../../.." class="block mb-4 text-sm font-bold no-underline hover:text-[var(--oi-primary)] text-[var(--text-main)]">
            <i class="fas fa-file-alt mr-2"></i> Dev
        </a>
        
        <a href="../../.." class="block mb-4 text-sm font-bold no-underline hover:text-[var(--oi-primary)] text-[var(--oi-primary)]">
            <i class="fas fa-file-alt mr-2"></i> Handbook
        </a>
        
        <a href="../../.." class="block mb-4 text-sm font-bold no-underline hover:text-[var(--oi-primary)] text-[var(--text-main)]">
            <i class="fas fa-file-alt mr-2"></i> Misc
        </a>
        
        <a href="../../.." class="block mb-4 text-sm font-bold no-underline hover:text-[var(--oi-primary)] text-[var(--text-main)]">
            <i class="fas fa-file-alt mr-2"></i> Release notes
        </a>
        
        <a href="../../.." class="block mb-4 text-sm font-bold no-underline hover:text-[var(--oi-primary)] text-[var(--text-main)]">
            <i class="fas fa-file-alt mr-2"></i> Retired
        </a>
        
    </aside>
    <main id="main-content" class="documentation-wrapper markdown-engine">
        <article><!--

The contents of this Documentation are subject to the Public Documentation License Version 1.01
 (the "License"); you may only use this Documentation if you comply with the terms of this License.
A copy of the License is available at http://illumos.org/license/PDL.


The Original Documentation is at https://squeak.org/documentation/

The Initial Writer of this Documentation is David Stes Copyright (C) 2020-2024
All Rights Reserved. (https://sourceforge.net/u/stes/profile).

Contributor(s): David Stes.

-->

<h1 id="squeak-cuis-and-smalltalk-80">Squeak, Cuis and Smalltalk-80</h1>
<p>The following notes document the steps to install Squeak and Cuis on OpenIndiana Hipster, and how to use these implementations of Smalltalk-80.</p>
<p>A set of example Vagrantfiles that use the OpenIndiana Hipster operating system to run Squeak Smalltalk can be cloned from github by :</p>
<pre><code class="language-none">        # git clone https://github.com/openindiana/vagrantfiles
</code></pre>
<p>These Vagrant guests can be ran on a Linux host or OpenIndiana host, assuming that you have the Vagrant software on the host.  Vagrant forwards the X11 DISPLAY over SSH so that it is possible to forward the Squeak display in an OpenIndiana guest to a Linux host, for example.</p>
<p>Squeak consists of a VM (virtual machine) and Smalltalk images.  You can find Smalltalk images at <a href="http://files.squeak.org">files.squeak.org</a> or at <a href="https://cuis.st">cuis.st</a>.</p>
<p>Cuis and Squeak both use the Squeak VM, but they offer different Smalltalk images.  The Squeak images have traditional MVC (Model, View, Controller) and Morphic graphical user interface classes.   Cuis has Morphic-3, which is an enhanced set of Morphic classes.</p>
<p>See the <a href="http://www.squeak.org">Squeak website</a> for more and general information on Squeak, specifically the documentation section.  See <a href="https://cuis.st">cuis.st</a> for more info Cuis.  Also see the Squeak Wiki : <a href="http://wiki.squeak.org">Squeak Wiki</a></p>
<h2 id="classic-vm-and-opensmalltalk-vm">Classic VM and OpenSmalltalk VM</h2>
<p>There are currently three Squeak packages for OpenIndiana : squeak, stack-spur and cog-spur.  Their package names begin with pkg:/runtime/smalltalk.  These packages can be installed simultaneously mediated by the squeak mediator (see below).</p>
<pre><code class="language-none">        # pkg list | grep smalltalk
        runtime/smalltalk/squeak                4.19.6-2020.0.1.4          i--
        runtime/smalltalk/squeak-display-X11    4.19.6-2020.0.1.4          i--
        runtime/smalltalk/squeak-nodisplay      4.19.6-2020.0.1.4          i--
        runtime/smalltalk/cog-spur              5.0.2957-2020.0.1.0        i--
        runtime/smalltalk/cog-spur-display-X11  5.0.2957-2020.0.1.0        i--
        runtime/smalltalk/cog-spur-nodisplay    5.0.2957-2020.0.1.0        i--
</code></pre>
<p>The basic squeak package corresponds to the classical virtual machine (VM).  The stack-spur and cog-spur packages are OpenSmalltalk based virtual machines, where stack-spur is the OpenSmalltalk stack VM, using the Spur memory management, and cog-spur is the OpenSmalltalk cog VM, also using the Spur memory management; the cog VM is a just-in-time compiler (JIT) which is a faster implementation of Squeak.</p>
<p>A first screenshot illustrates squeak, version 4.19.6, running on OpenIndiana, with an old style MVC (Model, View, Controller) look and feel :</p>
<p><img alt="mvc" src="../oi-squeak-4-mvc.png" /></p>
<p>The following screenshot illustrates squeak, version 4.19.3, with the (default) Morphic user interface, running on OpenIndiana, playing bachFugue through pulseaudio, and with a classical Smalltalk bouncing atoms animation :</p>
<p><img alt="bouncing atoms" src="../atoms-4.19.3-oi.png" /></p>
<p>Squeak has a Test Runner.  The following screenshot illustrates squeak and the results of running a number of tests :</p>
<p><img alt="test run atoms" src="../testrun-4.19.3-oi.png" /></p>
<p>The following screenshot illustrates cog-spur, version 5.0.2967 and the results of running a number of tests on a 64-bit Squeak 6.0.20536 image :</p>
<p><img alt="test run atoms" src="../testrun-6.0-oi.png" /></p>
<p>The next screenshot illustrates the squeak 4.19.6 running the Cuis Smalltalk system, with the Cuis Morphic userinterface and SVG (Scalable Vector Graphics) support.   The Squeak VM for OpenIndiana has a SVGPluginEngine for fast rendering and manipulation of Scalable Vector Graphics :</p>
<p><img alt="cuis magician" src="../oi-cuis-magician.png" /></p>
<p>The last screenshot illustrates Cuis running the DrGeo software on OpenIndiana for teaching and exploring mathematics and geometry :</p>
<p><img alt="cuis drgeo" src="../drgeo-fibonacci.png" /></p>
<h2 id="openindiana-prerequisites">OpenIndiana Prerequisites</h2>
<p>Before installing, the OpenIndiana system should have some required packages installed.</p>
<p>To check the required dependencies for Squeak, use the command:</p>
<pre><code class="language-none">        # pkg contents -r -t depend squeak
</code></pre>
<p>or</p>
<pre><code class="language-none">        # pkg contents -r -t depend stack-spur
</code></pre>
<p>or</p>
<pre><code class="language-none">        # pkg contents -r -t depend cog-spur
</code></pre>
<p>This will list a number of dependencies.  If those are not met, you should upgrade OpenIndiana before attempting to install Squeak.</p>
<p>You can upgrade OpenIndiana and check the dependencies again:</p>
<pre><code class="language-none">        # pkg update -v
</code></pre>
<p>Squeak is in the OpenIndiana userland-incorporation package since version 0.5.11-2020.0.1.13018.</p>
<p>Use the following command to check the installed consolidation:</p>
<pre><code class="language-none">        # pkg list userland-incorporation
</code></pre>
<p>The installed version should be more recent than 0.5.11-2020.0.1.13018.</p>
<p>Squeak for OpenIndiana provides a vm-display-X11 plugin for using the X11 window system.  By setting the X11 DISPLAY variable or by using X11 forwarding over SSH, it is possible to run Squeak remotely and forward the display to another machine.</p>
<p>It is also possible to run Squeak without display, or headlessly.</p>
<h2 id="installing-squeak-the-classic-vm">Installing squeak, the classic VM</h2>
<p>On OpenIndiana install squeak as follows:</p>
<pre><code class="language-none">       # pkg install -v squeak
</code></pre>
<p>After installation, see the squeak(1) manpage for documentation:</p>
<pre><code class="language-none">       # man squeak
</code></pre>
<p>After installation you can verify the installation as follows:</p>
<pre><code class="language-none">       # pkg list squeak
       # pkg list squeak-nodisplay
       # pkg list squeak-display-X11
</code></pre>
<p>The squeak-nodisplay package is for running squeak with the -nodisplay option, headless, without display.  The squeak-display-X11 adds the necessary plugins for running X11, but still without all plugins.  squeak depends on squeak-nodisplayand squeak-display-X11 and it installs all plugins.</p>
<p>During installation you may also notice:</p>
<pre><code class="language-none">       Changed mediators:
         mediator squeak:
         version: None -&gt; 4 (system default)
</code></pre>
<p>The OpenIndiana mediator squeak selects which version of Squeak to use: squeak or one of the stack-spur or cog-spur.</p>
<p>There is a utility included to start using Squeak :</p>
<pre><code class="language-none">       # inisqueak
</code></pre>
<p>This is equivalent to downloading the Smalltalk sources and image from the Squeak website:</p>
<pre><code class="language-none">       # unzip SqueakV46.sources.zip
</code></pre>
<p>and</p>
<pre><code class="language-none">       # unzip Squeak4.6-15102.zip
</code></pre>
<p>You would then launch Squeak as follows (also see the manpage for further details) :</p>
<pre><code class="language-none">       # squeak Squeak4.6-15102.image
</code></pre>
<h2 id="installing-the-opensmalltalk-vm">Installing the OpenSmalltalk VM</h2>
<p>It is possible to simultaneously install squeak and opensmalltalk as follows:</p>
<pre><code class="language-none">         # pkg install -v stack-spur
</code></pre>
<p>At the end of installation the hardlink squeak will point to the stack-spur binary.  You will notice that the mediator changed to version 5.</p>
<pre><code class="language-none">        # pkg mediator squeak
</code></pre>
<p>The system-administrator can override the OpenIndiana choice by using the pkg set-mediator or pkg unset-mediator commands.</p>
<p>After installation of opensmalltalk, it is possible again to use inisqueak :</p>
<pre><code class="language-none">        # inisqueak
</code></pre>
<p>This is equivalent to downloading sources and Smalltalk images from the Squeak website :</p>
<pre><code class="language-none">         # unzip SqueakV50.sources.zip
</code></pre>
<p>and</p>
<pre><code class="language-none">         # unzip Squeak5.3-19431-64bit.zip
</code></pre>
<p>You would then launch squeak as follows:</p>
<pre><code class="language-none">         # squeak Squeak5.3-19431-64bit.image
</code></pre>
<p>Squeak V5 can also run Cuis images.  See the Cuis website for more details.  Given the CuisV5.sources and Cuis5.0-4112.image :</p>
<pre><code class="language-none">         # squeak Cuis5.0-4112.image
</code></pre>
<p>Because both packages can be installed simultaneously it is possible to run side-by-side Squeak 4.6 and Squeak 5.3, Cuis Smalltalk or Squeak 6.0 alpha images.</p>
<p>There is an additional package cog-spur which is the Cog implementation of Squeak.  This is a faster implementation of the Squeak virtual machine.</p>
<p>It can be installed as follows:</p>
<pre><code class="language-none">         # pkg install -v cog-spur
</code></pre>
<p>During installation of the cog implementation, the mediator will be changed as follows:</p>
<pre><code class="language-none">         Changed mediators:
         mediator squeak:
           version: None -&gt; 5 (system default)
           implementation: None -&gt; cog-spur (system default)
</code></pre>
<p>The stack-spur and cog-spur packages can be installed at the same time, and the system administrator can choose the implementation with the pkg unset-mediator and set-mediator commands.</p>
<h2 id="modifying-the-policyconf-file-for-opensmalltalk">Modifying the policy.conf file for OpenSmalltalk</h2>
<p>The following notes do not apply to classic squeak, they only apply to OpenSmalltalk.</p>
<p>The OpenSmalltalk VM stack-spur or cog-spur will print the following error:</p>
<pre><code class="language-none">        # pthread_setschedparam failed: Not owner
</code></pre>
<p>This is due to a lack of "proc_priocntl" privilege.</p>
<pre><code class="language-none">        # ppriv -v -l proc_priocntl
</code></pre>
<p>This privilege allows a process to elevate its priority above its current level.  It allows a process to change its scheduling class to any scheduling class, including the RT class.</p>
<p>You can change the following in the /etc/security/policy.conf:</p>
<pre><code class="language-none">        # cp /etc/security/policy.conf /etc/security/policy.conf.orig
</code></pre>
<p>change</p>
<pre><code class="language-none">        #PRIV_DEFAULT=basic
</code></pre>
<p>to</p>
<pre><code class="language-none">        PRIV_DEFAULT=basic,proc_priocntl
</code></pre>
<p>You can run squeak in a zone and do the above in a zone only.
If you run squeak in a zone, you may also have to set the privilege limit:</p>
<pre><code class="language-none">        # zonecfg -z example-zone info | grep limitpriv
        limitpriv: default,proc_priocntl
</code></pre>
<h2 id="updating-squeak">Updating Squeak</h2>
<p>The complete OpenIndiana system can be updated with:</p>
<pre><code class="language-none">         # pkg update
</code></pre>
<p>to update the entire userland-incorporation.</p>
<p>If there is a need to install a different version of squeak, without upgrading the userland-incorporation, you can do :</p>
<pre><code class="language-none">         # pkg change-facet facet.version-lock.runtime/smalltalk/stack-spur=false
</code></pre>
<p>and</p>
<pre><code class="language-none">         # pkg change-facet facet.version-lock.runtime/smalltalk/stack-spur-nodisplay=false
</code></pre>
<p>This can make it possible to update stack-spur without updating the userland-incorporation:</p>
<pre><code class="language-none">         # pkg list userland-incorporation
</code></pre>
<p>and then update stack-spur or any other squeak package separately:</p>
<pre><code class="language-none">         # pkg update stack-spur
</code></pre>
<h2 id="uninstalling-squeak">Uninstalling Squeak</h2>
<p>To uninstall squeak, the command is :</p>
<pre><code class="language-none">         # pkg uninstall squeak squeak-nodisplay squeak-display-X11
</code></pre>
<p>For opensmalltalk :</p>
<pre><code class="language-none">         # pkg uninstall cog-spur cog-spur-nodisplay cog-spur-display-X11
</code></pre>
<p>Note that the nodisplay package is not necessarily uninstalled by uninstalling squeak or cog-spur.</p></article>
    </main>
</div>


<footer class="custom-footer">
    <div class="flex justify-center gap-8 opacity-80">
        <a href="https://n00b-5634.github.io/OpenIndiana-SiteReimagined" class="hover:underline"><i class="fas fa-globe mr-1"></i> Website</a>
        <a href="https://github.com/N00B-5634/OpenIndiana-SiteReimagined" class="hover:underline"><i class="fab fa-github mr-1"></i> GitHub</a>
    </div>
</footer>

<script>
(function() {
    const toggle = document.getElementById('master-theme-toggle');
    const a11yBtn = document.getElementById('a11y-toggle');
    const html = document.documentElement;

    a11yBtn.addEventListener('click', () => {
        html.classList.toggle('a11y-mode');
        a11yBtn.textContent = html.classList.contains('a11y-mode') ? "Standard Mode" : "W3C Access";
        a11yBtn.innerHTML = html.classList.contains('a11y-mode')
            ? '<i class="fas fa-ban"></i> Standard Mode'
            : '<i class="fas fa-universal-access"></i> W3C Access';
    });

    const applyTheme = (theme) => {
        if (theme === 'dark') {
            html.setAttribute('data-theme', 'dark');
            toggle.innerHTML = '<i class="fas fa-sun"></i> LIGHT MODE';
        } else {
            html.removeAttribute('data-theme');
            toggle.innerHTML = '<i class="fas fa-moon"></i> DARK MODE';
        }
        localStorage.setItem('oi-theme-v5', theme);
    };
    applyTheme(localStorage.getItem('oi-theme-v5') || 'light');
    toggle.addEventListener('click', () => applyTheme(html.hasAttribute('data-theme') ? 'light' : 'dark'));
})();

// Initialize MkDocs search on page load
document.addEventListener('DOMContentLoaded', function() {
    if (typeof MkDocsSearch !== 'undefined') {
        new MkDocsSearch({
            inputSelector: '#mkdocs-search-query',
            resultContainerSelector: '#mkdocs-search-results',
            jsonDataUrl: 'search_index.json',
        });
    }
    // Show/hide search results
    const searchInput = document.getElementById('mkdocs-search-query');
    const searchResults = document.getElementById('mkdocs-search-results');
    searchInput.addEventListener('focus', () => {
        searchResults.style.display = 'block';
    });
    searchInput.addEventListener('blur', () => {
        setTimeout(() => {
            searchResults.style.display = 'none';
        }, 200);
    });
});
</script>

            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../../../js/jquery-3.6.0.min.js"></script>
        <script src="../../../js/bootstrap.min.js"></script>
        <script>
            var base_url = "../../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../../js/base.js"></script>
        <script src="../../../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
